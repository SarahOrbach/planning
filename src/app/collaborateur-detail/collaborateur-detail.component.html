<nb-card>
  <nb-card-body>
    <form
      novalidate
      (ngSubmit)="onSubmit(collaborateurForm.value)"
      #formDirective="ngForm"
      [formGroup]="collaborateurForm"
    >
      <!-- Identification du collaborateur -->
      <div class="grid-container10">
        <div class="grid-item" class="titre"></div>
        <div class="grid-item" class="titre">Nom affiché *</div>
        <div class="grid-item" class="titre">Prénom</div>
        <div class="grid-item" class="titre">Nom</div>
        <div class="grid-item" class="titre">Identifiant entreprise</div>
        <div class="grid-item" class="titre">Email</div>
        <div class="grid-item" class="titre">Numéro de téléphone</div>
        <div class="grid-item" class="titre">Equipes assignées</div>
        <div class="grid-item" class="titre">
          Nombres d'heures de travail par semaine
        </div>
        <div class="grid-item" class="titre">
          Nombres de jours de travail par semaine
        </div>
        <div class="grid-item">
          <button
            nbButton
            ghost
            class="creer"
            status="primary"
            [disabled]="!collaborateurForm.valid || !collaborateurForm.touched"
            type="submit"
          >
            <nb-icon icon="save-outline"></nb-icon>
          </button>
          <button class="creer" nbButton ghost (click)="open()">
            <nb-icon icon="trash-2-outline"></nb-icon>
          </button>
        </div>
        <div class="grid-item">
          <input
            type="text"
            formControlName="name"
            class="form-control contenu"
            required
            [ngClass]="{
              'is-invalid':
                collaborateurForm.get('name')?.touched &&
                !collaborateurForm.get('name')?.valid
            }"
          />
          <div class="invalid-feedback">
            <span> Veuillez entrer un nom. </span>
          </div>
        </div>
        <div class="grid-item">
          <input
            type="text"
            formControlName="firstName"
            class="form-control contenu"
          />
        </div>
        <div class="grid-item">
          <input
            type="text"
            formControlName="lastName"
            class="form-control contenu"
          />
        </div>

        <div class="grid-item">
          <input
            type="text"
            formControlName="idEnt"
            class="form-control contenu"
          />
        </div>

        <div class="grid-item">
          <input
            type="mail"
            formControlName="mail"
            class="form-control contenu"
            email
            [ngClass]="{
              'is-invalid':
                collaborateurForm.get('mail')?.touched &&
                !collaborateurForm.get('mail')?.valid
            }"
          />
          <div class="invalid-feedback">
            <span> Veuillez entrer une adresse email valide. </span>
          </div>
        </div>

        <div class="grid-item">
          <input
            type="tel"
            formControlName="phone"
            class="form-control contenu"
            pattern="(0|\+[0-9]{2}|\+[0-9]{3})[0-9]{9}"
            tel
            [ngClass]="{
              'is-invalid':
                collaborateurForm.get('phone')?.touched &&
                !collaborateurForm.get('phone')?.valid
            }"
          />
          <div class="invalid-feedback">
            <span> Veuillez entrer un numéro de téléphone valide. </span>
          </div>
        </div>

        <nb-select
          multiple
          formControlName="teams"
          class="form-control contenu grid-item-equipes"
        >
          <nb-option
            *ngFor="let name of equipesNames; let i = index"
            value="{{ equipesId[i] }}"
            >{{ name }}</nb-option
          >
        </nb-select>

        <div class="grid-item number">
          <input
            type="text"
            formControlName="hours"
            class="form-control contenu number"
            [ngClass]="{
              'is-invalid':
                collaborateurForm.get('hours')?.touched &&
                !collaborateurForm.get('hours')?.valid
            }"
          />
          <div class="invalid-feedback">
            <span> Veuillez entrer un nombre d'heures valide. </span>
          </div>
        </div>
        <div class="grid-item number">
          <input
            type="text"
            formControlName="days"
            class="form-control contenu number"
            [ngClass]="{
              'is-invalid':
                collaborateurForm.get('days')?.touched &&
                !collaborateurForm.get('days')?.valid
            }"
          />
          <div class="invalid-feedback">
            <span> Veuillez entrer un nombre de jours en 0 et 7. </span>
          </div>
        </div>
      </div>
    </form>
  </nb-card-body>
</nb-card>
